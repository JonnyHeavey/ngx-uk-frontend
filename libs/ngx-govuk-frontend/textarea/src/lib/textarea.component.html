<div [class.govuk-character-count]="showCharacterCount()">
  <div class="govuk-input__wrapper">
    <textarea
      class="govuk-textarea"
      [class.govuk-textarea--error]="ngControl.touched && ngControl.errors"
      [class.govuk-js-character-count]="showCharacterCount()"
      [ngClass]="commonFormInput.extraClasses()"
      [formControl]="ngControl.control"
      [attr.id]="commonFormInput.inputId() ? commonFormInput.inputId() : null"
      [attr.rows]="rows()"
      [attr.cols]="cols() ? cols() : null"
      [attr.wrap]="wrap() ? wrap() : null"
      [attr.placeholder]="placeholder() ? placeholder() : null"
      [attr.maxlength]="maxlength() || null"
      [attr.minlength]="minlength() ? minlength() : null"
      [attr.readonly]="readonly() ? '' : null"
      [attr.disabled]="disabled() ? '' : null"
      [attr.autocomplete]="
        autocomplete()
          ? autocomplete()
          : commonFormInput.autocomplete()
            ? commonFormInput.autocomplete()
            : null
      "
      [attr.spellcheck]="spellcheck() !== undefined ? spellcheck() : null"
      [attr.autocapitalize]="autocapitalize() ? autocapitalize() : null"
      [attr.aria-describedby]="
        showCharacterCount() && commonFormInput.inputId()
          ? commonFormInput.inputId() + '-info'
          : null
      "
    ></textarea>
  </div>

  @if (showCharacterCount() && maxlength()) {
    <div
      [attr.id]="
        commonFormInput.inputId() ? commonFormInput.inputId() + '-info' : null
      "
      class="govuk-hint govuk-character-count__message"
      [attr.aria-live]="'polite'"
    >
      {{ characterCountMessage() }}
    </div>
  }
</div>
